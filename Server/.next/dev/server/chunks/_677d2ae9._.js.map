{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/monalisasabina/AI_CODE_CLASS/crochet-order-manager/Server/lib/prisma.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { PrismaBetterSqlite3 } from \"@prisma/adapter-better-sqlite3\";\nimport { PrismaClient } from \"../generated/prisma/client\";\n\nconst connectionString = `${process.env.DATABASE_URL}`;\n\nconst adapter = new PrismaBetterSqlite3({ url: connectionString });\nconst prisma = new PrismaClient({ adapter });\n\nexport default prisma ;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,mBAAmB,GAAG,QAAQ,GAAG,CAAC,YAAY,EAAE;AAEtD,MAAM,UAAU,IAAI,mMAAmB,CAAC;IAAE,KAAK;AAAiB;AAChE,MAAM,SAAS,IAAI,+IAAY,CAAC;IAAE;AAAQ;uCAE3B"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/monalisasabina/AI_CODE_CLASS/crochet-order-manager/Server/app/api/admins/route.js"],"sourcesContent":["import prisma from '../../../lib/prisma';\nimport {NextResponse} from 'next/server';\nimport bcrypt from 'bcryptjs';\n\n// GET ALL THE ADMINS\nexport async function GET() {\n    try{\n        const admins = await prisma.admin.findMany();\n        console.log('Fetched admins:', admins);\n\n        return NextResponse.json(admins, { status: 200 });\n    }catch (error) {\n        console.error('Error fetching admins:', error);\n        return NextResponse.json({ error: 'Failed to fetch admins' }, { status: 500 }); \n    }\n}\n\n// CREATE A NEW ADMIN\nexport async function POST(request) {\n    try {\n        // Extract client data from the request body\n        const { firstName, lastName, userName, email, password } = await request.json();\n\n        // Hashing the password\n        const hashedPassword = await bcrypt.hash(password, 10);\n\n        const newAdmin = await prisma.admin.create({\n            data: {firstName, lastName, userName, email, password: hashedPassword},\n        });\n\n        // Not exposing the password\n        const { password: _, ...adminWithoutPassword } = newAdmin;\n\n        console.log('Created new admin:', adminWithoutPassword);\n\n        return NextResponse.json(adminWithoutPassword, { status: 201 });\n\n    } catch (error) {\n        console.error('Error creating admin:', error);\n        return NextResponse.json({ error: 'Failed to create admin' }, { status: 500 });\n    }\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAGO,eAAe;IAClB,IAAG;QACC,MAAM,SAAS,MAAM,0HAAM,CAAC,KAAK,CAAC,QAAQ;QAC1C,QAAQ,GAAG,CAAC,mBAAmB;QAE/B,OAAO,gJAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAI;IACnD,EAAC,OAAO,OAAO;QACX,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAChF;AACJ;AAGO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,4CAA4C;QAC5C,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE7E,uBAAuB;QACvB,MAAM,iBAAiB,MAAM,8IAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,MAAM,WAAW,MAAM,0HAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACvC,MAAM;gBAAC;gBAAW;gBAAU;gBAAU;gBAAO,UAAU;YAAc;QACzE;QAEA,4BAA4B;QAC5B,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,sBAAsB,GAAG;QAEjD,QAAQ,GAAG,CAAC,sBAAsB;QAElC,OAAO,gJAAY,CAAC,IAAI,CAAC,sBAAsB;YAAE,QAAQ;QAAI;IAEjE,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAChF;AACJ"}}]
}