{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/monalisasabina/AI_CODE_CLASS/crochet-order-manager/Server/lib/prisma.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { PrismaBetterSqlite3 } from \"@prisma/adapter-better-sqlite3\";\nimport { PrismaClient } from \"../generated/prisma/client\";\n\nconst connectionString = `${process.env.DATABASE_URL}`;\n\nconst adapter = new PrismaBetterSqlite3({ url: connectionString });\nconst prisma = new PrismaClient({ adapter });\n\nexport default prisma ;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,mBAAmB,GAAG,QAAQ,GAAG,CAAC,YAAY,EAAE;AAEtD,MAAM,UAAU,IAAI,mMAAmB,CAAC;IAAE,KAAK;AAAiB;AAChE,MAAM,SAAS,IAAI,+IAAY,CAAC;IAAE;AAAQ;uCAE3B"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/monalisasabina/AI_CODE_CLASS/crochet-order-manager/Server/app/api/clients/%5Bid%5D/route.js"],"sourcesContent":["import prisma from \"../../../../lib/prisma\";\nimport {NextResponse} from 'next/server';\n\n\n// FETCHING A SINGLE CLIENT BY ID\nexport async function GET(request) {\n\n    try{\n    //Extracting client ID from the URL parameters \n    const id = request.url.split(\"/\").pop();\n\n    // Validating the extracted ID\n    if (!id || isNaN(Number(id))) {\n        return NextResponse.json(\n            { error: \"Invalid client ID\" },\n            { status: 400 }\n        );\n    }\n    \n    // Fetching the client by ID from the database\n    const client = await prisma.client.findUnique({\n        where: { id: Number(id) },\n    });\n\n    // Returning response \n    return NextResponse.json(client, { status: 200 });\n    } catch (error) {\n        console.error('Error fetching client by ID:', error);\n        return NextResponse.json({ error: 'Failed to fetch client' }, { status: 500 });\n    }\n\n}\n\n\n\n// UPDATE AN EXISTING CLIENT CREDENTIALS\nexport async function PATCH(request) {\n    try {\n        // Extracting client ID from the URL parameters\n        const id = request.url.split(\"/\").pop();\n\n         if (!id || isNaN(Number(id))) {\n            return NextResponse.json(\n                { error: 'Invalid client ID' }, \n                { status: 400 });\n        }\n\n        // Extracting client data from the request body\n        const body = await request.json();\n\n        const updatedClient = await prisma.client.update({\n\n            // Number() converts string to integer\n            where: { id: Number(id)},\n\n            // only updates provided field\n            data: body,  \n        })\n\n        console.log('Updated client:', updatedClient);\n\n        return NextResponse.json(updatedClient, { status: 200 });\n        } catch (error) {\n        console.error('Error updating client:', error);\n        return NextResponse.json({ error: 'Failed to update client' }, { status: 500 });\n    }\n}\n\n\n// DELETE A CLIENT BY ID\nexport async function DELETE(request) {\n    try {\n        // Extracting client ID from the URL parameters\n        const id = request.url.split(\"/\").pop();\n\n         if (!id || isNaN(Number(id))) {\n            return NextResponse.json(\n                { error: 'Invalid client ID' }, \n                { status: 400 });\n        }\n\n        const deletedClient = await prisma.client.delete({\n            where: { id: Number(id) },\n        });\n\n        console.log('Deleted client:', deletedClient);\n\n        return NextResponse.json(deletedClient, { status: 200 });\n    } catch (error) {\n        console.error('Error deleting client:', error);\n        return NextResponse.json({ error: 'Failed to delete client' }, { status: 500 });\n    }\n}   "],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAIO,eAAe,IAAI,OAAO;IAE7B,IAAG;QACH,+CAA+C;QAC/C,MAAM,KAAK,QAAQ,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG;QAErC,8BAA8B;QAC9B,IAAI,CAAC,MAAM,MAAM,OAAO,MAAM;YAC1B,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAoB,GAC7B;gBAAE,QAAQ;YAAI;QAEtB;QAEA,8CAA8C;QAC9C,MAAM,SAAS,MAAM,0HAAM,CAAC,MAAM,CAAC,UAAU,CAAC;YAC1C,OAAO;gBAAE,IAAI,OAAO;YAAI;QAC5B;QAEA,sBAAsB;QACtB,OAAO,gJAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAI;IAC/C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAChF;AAEJ;AAKO,eAAe,MAAM,OAAO;IAC/B,IAAI;QACA,+CAA+C;QAC/C,MAAM,KAAK,QAAQ,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG;QAEpC,IAAI,CAAC,MAAM,MAAM,OAAO,MAAM;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAoB,GAC7B;gBAAE,QAAQ;YAAI;QACtB;QAEA,+CAA+C;QAC/C,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,gBAAgB,MAAM,0HAAM,CAAC,MAAM,CAAC,MAAM,CAAC;YAE7C,sCAAsC;YACtC,OAAO;gBAAE,IAAI,OAAO;YAAG;YAEvB,8BAA8B;YAC9B,MAAM;QACV;QAEA,QAAQ,GAAG,CAAC,mBAAmB;QAE/B,OAAO,gJAAY,CAAC,IAAI,CAAC,eAAe;YAAE,QAAQ;QAAI;IACtD,EAAE,OAAO,OAAO;QAChB,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACJ;AAIO,eAAe,OAAO,OAAO;IAChC,IAAI;QACA,+CAA+C;QAC/C,MAAM,KAAK,QAAQ,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG;QAEpC,IAAI,CAAC,MAAM,MAAM,OAAO,MAAM;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAoB,GAC7B;gBAAE,QAAQ;YAAI;QACtB;QAEA,MAAM,gBAAgB,MAAM,0HAAM,CAAC,MAAM,CAAC,MAAM,CAAC;YAC7C,OAAO;gBAAE,IAAI,OAAO;YAAI;QAC5B;QAEA,QAAQ,GAAG,CAAC,mBAAmB;QAE/B,OAAO,gJAAY,CAAC,IAAI,CAAC,eAAe;YAAE,QAAQ;QAAI;IAC1D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACJ"}}]
}